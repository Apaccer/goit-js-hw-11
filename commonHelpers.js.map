{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst container = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader');\n\nloaderContainer.style.display = 'none';\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const query = e.target.elements.searchQuery.value;\n  if (!query) {\n    iziToast.warning({\n      position: 'topRight',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n  container.innerHTML = '';\n  loaderContainer.style.display = 'block';\n  searchImages(query)\n    .then(data => renderImages(data))\n    .catch(error =>\n      iziToast.error({\n        position: 'topRight',\n        message: `Error: ${error}`,\n      })\n    )\n    .finally(() => {\n      e.target.reset();\n      loaderContainer.style.display = 'none';\n    });\n}\n\nfunction searchImages(q) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PARAMS = new URLSearchParams({\n    key: '42192602-d8808410d4367b6455b886704',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = BASE_URL + '?' + PARAMS;\n  return fetch(url).then(res => res.json());\n}\n\nfunction imageTemplate(images) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = images;\n  return `\n    <div class=\"photo-card\">\n      <a class=\"photo-card-link\" href=\"${webformatURL}\">\n        <img\n          class=\"photo-card__img\"\n          src=\"${largeImageURL}\" \n          alt=\"${tags}\" \n        />\n      </a>\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b class=\"info-item-title\">Likes</b>\n          <span class=\"info-item-value\">${likes}</span>\n        </p>\n        <p class=\"info-item\">\n          <b class=\"info-item-title\">Views</b>\n          <span class=\"info-item-value\">${views}</span>\n        </p>\n        <p class=\"info-item\">\n          <b class=\"info-item-title\">Comments</b>\n          <span class=\"info-item-value\">${comments}</span>\n        </p>\n        <p class=\"info-item\">\n          <b class=\"info-item-title\">Downloads</b>\n          <span class=\"info-item-value\">${downloads}</span>\n        </p>\n      </div>\n    </div>\n    `;\n}\n\nfunction renderImages({ hits }) {\n  if (hits.length > 0) {\n    const markup = hits.map(imageTemplate).join('');\n    container.insertAdjacentHTML('beforeend', markup);\n    const lightbox = new SimpleLightbox('.photo-card-link', {\n      captionDelay: 250,\n      captionsData: 'alt',\n    });\n    lightbox.refresh();\n  } else {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n}\n"],"names":["form","container","loaderContainer","onFormSubmit","e","query","iziToast","searchImages","data","renderImages","error","q","BASE_URL","PARAMS","url","res","imageTemplate","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","hits","markup","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAkB,SAAS,cAAc,SAAS,EAExDA,EAAgB,MAAM,QAAU,OAChCF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,YAAY,MAC5C,GAAI,CAACC,EAAO,CACVC,EAAS,QAAQ,CACf,SAAU,WACV,QAAS,8BACf,CAAK,EACD,MACD,CACDL,EAAU,UAAY,GACtBC,EAAgB,MAAM,QAAU,QAChCK,EAAaF,CAAK,EACf,KAAKG,GAAQC,EAAaD,CAAI,CAAC,EAC/B,MAAME,GACLJ,EAAS,MAAM,CACb,SAAU,WACV,QAAS,UAAUI,GAC3B,CAAO,CACF,EACA,QAAQ,IAAM,CACbN,EAAE,OAAO,QACTF,EAAgB,MAAM,QAAU,MACtC,CAAK,CACL,CAEA,SAASK,EAAaI,EAAG,CACvB,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAAF,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAMF,EAAW,IAAMC,EAC7B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CAEA,SAASC,EAAcC,EAAQ,CAC7B,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,yCAEgCC;AAAA;AAAA;AAAA,iBAGxBC;AAAA,iBACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAMyBC;AAAA;AAAA;AAAA;AAAA,0CAIAC;AAAA;AAAA;AAAA;AAAA,0CAIAC;AAAA;AAAA;AAAA;AAAA,0CAIAC;AAAA;AAAA;AAAA;AAAA,KAK1C,CAEA,SAASf,EAAa,CAAE,KAAAgB,GAAQ,CAC9B,GAAIA,EAAK,OAAS,EAAG,CACnB,MAAMC,EAASD,EAAK,IAAIT,CAAa,EAAE,KAAK,EAAE,EAC9Cf,EAAU,mBAAmB,YAAayB,CAAM,EAC/B,IAAIC,EAAe,mBAAoB,CACtD,aAAc,IACd,aAAc,KACpB,CAAK,EACQ,QAAO,CACpB,MACIrB,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACR,CAAK,CAEL"}